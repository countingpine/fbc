<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">{{fbdoc item="title" value="ImageCreate"}}----<div id="fb_tab_r"> <img src="images/fblogo_mini.gif">
Alloue et initialise une image (stockage en m&eacute;moire)<br \=""><br \="">{{fbdoc item="syntax"}}##<br \="">[[KeyPgDeclare Declare]] [[KeyPgFunction Function]] **ImageCreate** [[KeyPgOverload Overload]] ( [[KeyPgByval ByVal]] //width// [[KeyPgAs As]] [[KeyPgInteger Integer]], [[KeyPgByval ByVal]] //height// [[KeyPgAs As]] [[KeyPgInteger Integer]], [[KeyPgByval ByVal]] //color// [[KeyPgAs As]] [[KeyPgUinteger UInteger]] = **transparent_color** ) [[KeyPgAs As]] [[KeyPgAny Any]] [[KeyPgPtr Ptr]]

[[KeyPgDeclare Declare]] [[KeyPgFunction Function]] **ImageCreate** ( [[KeyPgByval ByVal]] //width// [[KeyPgAs As]] [[KeyPgInteger Integer]], [[KeyPgByval ByVal]] //height// [[KeyPgAs As]] [[KeyPgInteger Integer]], [[KeyPgByval ByVal]] //color// [[KeyPgAs As]] [[KeyPgUinteger UInteger]] = **transparent_color**, [[KeyPgByval ByVal]] //depth// [[KeyPgAs As]] [[KeyPgInteger Integer]] ) [[KeyPgAs As]] [[KeyPgAny Any]] [[KeyPgPtr Ptr]]
	##<br \="">
	{{fbdoc item="usage"}}##<br \="">//result// = **ImageCreate**( //width//, //height// [, [ //color// ][, //depth// ]] )
##<br \="">
{{fbdoc item="param"}}<br \="">##//width//##<br \="">		La largeur d&eacute;sir&eacute;e, en nombre de pixels.<br \="">
	##//height//##<br \="">		La hauteur d&eacute;sir&eacute;e, en nombre de pixels.<br \="">
##//color//##<br \="">		Valeur du pixel pour remplir l'image.<br \="">
##//depth//##<br \="">		La profondeur de couleur, en bits par pixel.<br \=""><br \="">
	{{fbdoc item="section" value="Valeur renvoy&eacute;e
		<br \="">Si l'image ne peut &ecirc;tre cr&eacute;&eacute;e NULL (##0##) est renvoy&eacute;. Sinon, c'est l'adresse de l'image qui est renvoy&eacute;e.<br \=""><br \="">
	{{fbdoc item="desc"}}<br \="">Les deux proc&eacute;dures essaient d'allouer de la m&eacute;moire pour une image de dimensions: ##//width (largeur)//## et ##//height(hauteur)//##. Si &eacute;chec, un NULL (##0##) est renvoy&eacute;. Sinon, une image est cr&eacute;&eacute;e et initialis&eacute;e en la remplissant enti&egrave;rement avec des pixels de valeur ##//color//##. Si  omis, ##//color//## prend la valeur de la couleur transparente pour l'&eacute;cran graphique courant, qui peut &ecirc;tre d&eacute;termin&eacute;e en appelant ##[[KeyPgScreencontrol ScreenControl]]##. Dans tous les cas, l'adresse de l'image est retourn&eacute;e, qui est ensuite contr&ocirc;l&eacute;e par l'utilisateur, et peut &ecirc;tre d&eacute;truite en utilisant ##[[KeyPgImageDestroy ImageDestroy]]##.]]##.<br \=""><br \="">La premi&egrave;re proc&eacute;dure cr&eacute;e une image avec une profondeur de couleur correspondant &agrave; celle de l'&eacute;cran graphique courant, qui peut &ecirc;tre d&eacute;termin&eacute;e en appelant ##[[KeyPgScreencontrol ScreenControl]]##. La seconde proc&eacute;dure cr&eacute;e une image avec une profondeur de couleur ##//depth//##, en bits par pixel. Pour chaque proc&eacute;dure, l'image obtenue peut &ecirc;tre utilis&eacute;e dans l'&eacute;laboration de proc&eacute;dures dans n'importe quel mode &eacute;cran - et &agrave; travers les changements de mode - tant que la profondeur de couleur de l'image correspond &agrave; celle de l'&eacute;cran graphique.
		<br \="">Les images inutiles seront d&eacute;truites avec ##[[KeyPgImageDestroy ImageDestroy]]##, pour &eacute;viter des probl&egrave;mes de m&eacute;moire.<br \=""><br \="">##**ImageCreate**## est la m&eacute;thode recommand&eacute;e pour allouer de la m&eacute;moire pour de nouvelles images. La disposition de la m&eacute;moire - la taille, structure, etc - bien que document&eacute;e, peut changer d'une version &agrave; une autre, rendant le calcul manuel des tailles difficile et sujet &agrave; erreurs. Cependant, ##[[KeyPgImageInfo ImageInfo]]## peut &ecirc;tre utilis&eacute; pour d&eacute;terminer, entre autres, la taille, en octets, d'une image existant, permettant ainsi d'allouer de la m&eacute;moire manuellement pour une copie d'image, ou pour une lecture ou une &eacute;criture &agrave; partir d'un fichier ou d'un "device".
	<br \="">##[[KeyPgGetgraphics Get (Graphique)]]## peut &ecirc;tre utilis&eacute; pour initialiser une image en utilisant la m&eacute;moire pr&eacute;-allou&eacute;e.
		<br \="">
	{{fbdoc item="ex"}}<br \="">%%(freebasic)
		'' Cree un ecran graphique.

ScreenRes 320, 200, 32
	'' Cree une image 64x64 pixels avec un arriere-plan vert fonce.

	Dim image As Any Ptr = ImageCreate( 64, 64, RGB(0, 128, 0) )

If image = 0 Then
	Print "Failed to create image."

	Sleep

	End -1

	End If

'' Dessine un cercle rouge semi-transparent, au centre de l'image.
Circle image, (32, 32), 28, RGBA(255, 0, 0, 128),,, 1.0, f
'' Dessine l'image sur l'ecran en utilisant differentes methodes.
Put (120, 60), image, PSet

Put (140, 80), image, Alpha
'' Detruit l'image.

ImageDestroy image
	Sleep
	##<br><div class="fb_img"><img src="images/imagecreate.png">
	<br \=""><br \=""><br \="">
{{fbdoc item="section" value="Diff&eacute;rences de Dialecte 

<br \="">	- Non disponible dans le dialecte //[[CompilerOptlang -lang qb]]// sauf r&eacute;f&eacute;renc&eacute; avec l'alias ##**__Imagecreate**##.<br \=""><br \=""></li>
{{fbdoc item="diff"}}<br \="">	- Nouveau pour FreeBASIC<br \=""><br \=""></li>

{{fbdoc item="see"}}<br \="">	- ##[[KeyPgGetgraphics Get (Graphique)]]##<br \=""></li>	- ##[[KeyPgImageInfo ImageInfo]]##<br \=""></li>	- ##[[KeyPgImageDestroy ImageDestroy]]##<br \=""></li>	- [[GfxInternalFormats Formats graphiques internes]]<br \=""><br \=""></li>
put (120, 60), image, pset
put (140, 80), image, alpha

'' Destroy the image.
imagedestroy image

sleep
%%
{{image class="center" title="Imagecreate example output" url="/images/imagecreate.png"}}


{{fbdoc item="lang"}}
	- Not available in the //[[CompilerOptlang -lang qb]]// dialect unless referenced with the alias ##**""__Imagecreate""**##.

{{fbdoc item="diff"}}
	- New to ""FreeBASIC""

{{fbdoc item="see"}}
	- ##[[KeyPgImageDestroy ImageDestroy]]##
	- ##[[KeyPgImageInfo ImageInfo]]##
	- ##[[KeyPgGetgraphics Get (Graphics)]]##
	- [[GfxInternalFormats Internal pixel formats]]

{{fbdoc item="back" value="CatPgGfx2D|2D Drawing Functions"}}